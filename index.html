<!DOCTYPE html>
<html ng-app='tours' lang="en">
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tours!</title>
  </head>
  <body ng-controller="MainController">

    <div class="container">
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="/">
              Tours!
            </a>
          </div>
          <button ng-click='newTour()' type="button" class="btn pull-right btn-default navbar-btn">Добавить тур</button>
        </div>
      </nav>

      <div class="row">
        <div class="col-md-12">
          <form novalidate class='new-tour' ng-show="showTheForm">
            <div class="row">
              <div class="col-md-8">
                <div class="form-group">
                  <input ng-model="tour.title" type="text" class="form-control" id="newTourTitle" placeholder="Название тура">
                </div>
              </div>
              <div class="col-md-4">
                <div class="input-group">
                  <span class="input-group-addon">$</span>
                  <input ng-model="tour.price" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
                  <span class="input-group-addon">.00</span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <textarea ng-model="tour.body" type="text" class="form-control" id="newTourBody" placeholder="Описание"></textarea>
            </div>
            <input type="submit" value="Создать" ng-click="create(tour)" class="btn btn-primary">
            <button ng-click="cancelNew(tour)" type="button" class="btn btn-default">Отмена</button>
          </form>

          <ul class='media-list' ng-repeat='tour in tours'>
            <li class="media" ng-show="tour.state != 'edit'">
              <div class="media-left">
                <a href="#">
                  <img class="media-object" src="http://placehold.it/100x100">
                </a>
              </div>
              <div class="media-body">
                <h4 class="media-heading">{{ tour.title }}</h4>
                <p>{{ tour.body }}</p>
                <p class='pull-right'>{{ tour.price | currency }}</p>
                <a ng-click='editTour(tour)' href="#" class='btn btn-xs btn-default'>Edit Tour</a>
              </div>
            </li>

            <form novalidate class='new-tour' ng-show="tour.state=='edit'">
              <div class="row">
                <div class="col-md-8">
                  <div class="form-group">
                    <input ng-model="tour.title" type="text" class="form-control" id="newTourTitle" placeholder="Название тура">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="input-group">
                    <span class="input-group-addon">$</span>
                    <input ng-model="tour.price" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
                    <span class="input-group-addon">.00</span>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <textarea ng-model="tour.body" type="text" class="form-control" id="newTourBody" placeholder="Описание"></textarea>
              </div>
              <input type="submit" value="Обновить" ng-click="update(tour)" class="btn btn-primary">
              <button ng-click="cancel(tour)" type="button" class="btn btn-default">Отмена</button>
            </form>
          </ul>
        </div>
      </div>
    </div>
    <script src="app.js" type="text/javascript"></script>
  </body>
</html>
